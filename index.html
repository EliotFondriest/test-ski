<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ski Club Saint-Alban Leysse | Officiel</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --blue: #009ee0; --red: #e30613; --dark: #1a1a1a; --gray: #f4f7f9; --green: #2ecc71; --orange: #f39c12; }
        * { box-sizing: border-box; scroll-behavior: smooth; }
        body { font-family: 'Montserrat', sans-serif; margin: 0; color: #333; line-height: 1.6; padding-top: 0; background-color: var(--gray); }

        /* Bandeau Alerte Dynamique */
        #annuaire-alerte { display: none; width: 100%; position: sticky; top: 0; z-index: 2000; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .banner-item { padding: 15px; text-align: center; font-weight: 900; text-transform: uppercase; font-size: 0.85rem; color: white; border-bottom: 1px solid rgba(255,255,255,0.2); }
        .bg-green { background: var(--green); }
        .bg-orange { background: var(--orange); }
        .banner-item a { color: white; text-decoration: underline; margin-left: 10px; }

        /* Navigation */
        nav { position: sticky; top: 0; width: 100%; background: white; display: flex; justify-content: space-between; align-items: center; padding: 10px 5%; z-index: 1000; box-shadow: 0 2px 15px rgba(0,0,0,0.1); }
        .logo img { height: 50px; }
        nav ul { list-style: none; display: flex; gap: 20px; margin: 0; }
        nav ul li a { text-decoration: none; color: var(--dark); font-weight: 700; font-size: 0.8rem; text-transform: uppercase; }

        /* Hero */
        .hero { height: 50vh; background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('https://images.unsplash.com/photo-1551698618-1dfe5d97d256?auto=format&fit=crop&w=1600'); background-size: cover; background-position: center; display: flex; flex-direction: column; justify-content: center; align-items: center; color: white; text-align: center; }
        .hero h1 { font-size: clamp(2rem, 6vw, 3.5rem); font-weight: 900; margin: 0; text-shadow: 2px 2px 10px rgba(0,0,0,0.5); }

        /* Section Bourse aux Skis */
        #bourse-section { display: none; padding: 40px 10%; background: #fff3cd; border-bottom: 2px solid #ffeeba; text-align: center; }
        .bourse-card { display: inline-block; background: white; padding: 25px 45px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); border: 2px dashed #856404; }
        .bourse-card h2 { color: #856404 !important; border: none !important; margin-bottom: 10px !important; }

        /* Sections */
        section { padding: 60px 10%; }
        .bg-white { background: white; }
        h2 { color: var(--blue); border-left: 6px solid var(--red); padding-left: 15px; text-transform: uppercase; margin-bottom: 30px; font-weight: 900; }
        
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; }
        .card { background: white; padding: 30px; border-radius: 15px; box-shadow: 0 5px 25px rgba(0,0,0,0.05); position: relative; border-top: 4px solid var(--blue); transition: 0.3s; }
        .card:hover { transform: translateY(-5px); }

        /* Formulaire & Lock */
        .form-box { position: relative; overflow: hidden; }
        .locked-overlay { 
            display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(255,255,255,0.95); z-index: 100; flex-direction: column; 
            justify-content: center; align-items: center; text-align: center; padding: 20px;
        }
        .locked-overlay i { font-size: 3rem; color: var(--red); margin-bottom: 10px; }

        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        input, select, textarea { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-family: inherit; margin-top: 5px; }
        label { font-weight: bold; font-size: 0.8rem; color: #666; }

        /* Boutons */
        .btn { padding: 18px; border: none; border-radius: 10px; font-weight: 900; cursor: pointer; text-transform: uppercase; transition: 0.3s; text-decoration: none; display: inline-block; text-align: center; font-family: inherit; }
        .btn-red { background: var(--red); color: white; width: 100%; }
        .btn-blue { background: var(--blue); color: white; width: 100%; }
        
        .doc-link { display: flex; align-items: center; padding: 15px; background: #f0f9ff; border-radius: 10px; text-decoration: none; color: var(--blue); font-weight: bold; margin-bottom: 10px; border: 1px solid #d0e8ff; }
        .doc-link i { margin-right: 15px; color: var(--red); }

        footer { background: var(--dark); color: white; padding: 50px 10%; text-align: center; }
        .admin-trigger { opacity: 0.3; cursor: pointer; font-size: 0.7rem; margin-top: 20px; display: inline-block; text-decoration: underline; }

        @media (max-width: 768px) { .form-grid { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

    <div id="annuaire-alerte">
        <div id="msg-inscription" class="banner-item bg-green" style="display:none;">
            <i class="fas fa-skating"></i> Les inscriptions pour la saison sont ouvertes ! <a href="#pre-inscription">Cliquez ici</a>
        </div>
        <div id="msg-bourse-banner" class="banner-item bg-orange" style="display:none;">
            <i class="fas fa-tag"></i> Bourse aux skis : RDV le <span id="date-bourse-banner-display"></span> !
        </div>
    </div>

    <nav id="main-nav">
        <div class="logo"><img src="logo.png" alt="Logo"></div>
        <ul>
            <li><a href="calendrier.html">Calendrier</a></li>
            <li><a href="#minibus">Minibus</a></li>
            <li><a href="#pre-inscription">Inscription</a></li>
            <li><a href="#aide">Aide</a></li>
        </ul>
    </nav>

    <header class="hero">
        <h1>Ski Club Saint-Alban Leysse</h1>
        <p>Sport & Convivialité en Savoie</p>
    </header>

    <section id="bourse-section">
        <div class="bourse-card">
            <h2><i class="fas fa-tag"></i> BOURSE AUX SKIS</h2>
            <p style="font-weight: 900; font-size: 1.4rem; color: var(--dark); margin: 15px 0;">
                Rendez-vous le : <span id="bourse-date-display" style="color: var(--red);">[Date non définie]</span>
            </p>
            <p style="margin: 0; font-size: 0.9rem; color: #856404; font-weight: bold;">Salle des fêtes - Saint Alban Leysse</p>
        </div>
    </section>
	
	<section style="padding: 20px 10%; text-align: center; background: white;">
        <a href="presence.html" class="btn" style="background: #28a745; color: white; width: auto; padding: 15px 40px; border-radius: 50px; box-shadow: 0 4px 10px rgba(40, 167, 69, 0.3);">
            <i class="fas fa-walking"></i> Je serai présent ce samedi !
        </a>
	</section>

    <section id="agenda">
        <h2>Calendrier & Documents</h2>
        <div class="grid">
            <div class="card">
                <h3>Saison 2026</h3>
                <p>Retrouvez les dates des 10 sorties et les photos des séances passées.</p>
                <a href="calendrier.html" class="btn btn-blue">Consulter le Calendrier</a>
            </div>
            <div class="card" style="border-top-color: var(--red);">
                <h3>Pièces à fournir</h3>
                <p>Obligatoires pour valider votre inscription physique :</p>
                <a href="questionnaire-sante.pdf" class="doc-link" target="_blank"><i class="fas fa-file-pdf"></i> Questionnaire Santé</a>
                <a href="attestation-honneur.pdf" class="doc-link" target="_blank"><i class="fas fa-file-pdf"></i> Attestation sur l'honneur</a>
            </div>
        </div>
    </section>

    <section id="minibus" class="bg-white">
        <h2>Le Minibus du Club</h2>
        <div class="grid">
            <div class="card">
                <h3>Prêt aux Associations</h3>
                <p>Prêt du minibus 9 places pour les associations du canton de Saint-Alban Leysse.</p>
                <a href="convention.pdf" class="doc-link" target="_blank"><i class="fas fa-file-contract"></i> Convention de mise à disposition</a>
            </div>
            <div class="card">
                <h3>Infos Pratiques</h3>
                <p><i class="fas fa-id-card"></i> Permis B obligatoire</p>
                <p><i class="fas fa-gas-pump"></i> Rendre avec le plein et propre</p>
            </div>
        </div>
    </section>

    <section id="pre-inscription">
        <h2>Dossier de Pré-Inscription 2026</h2>
        <div class="card form-box">
            <div id="lock-msg" class="locked-overlay">
                <i class="fas fa-lock"></i>
                <p>Les pré-inscriptions ne sont pas encore ouvertes.<br>Surveillez le bandeau en haut de page !</p>
            </div>

            <form id="saison-form">
                <div style="background:#e7f3ff; padding:15px; border-radius:8px; margin-bottom:25px; border-left:5px solid var(--blue); font-size: 0.9rem;">
                    <strong>ÉTAPE 1 :</strong> Remplissez ce formulaire en ligne.<br>
                    <strong>ÉTAPE 2 :</strong> Votre place est réservée <u>temporairement</u>.<br>
                    <strong>ÉTAPE 3 :</strong> Apportez le règlement et les documents au club pour validation finale.
                </div>
                
                <div class="form-grid">
                    <div>
                        <label>Nom de l'enfant</label>
                        <input type="text" id="nom" placeholder="NOM" required>
                    </div>
                    <div>
                        <label>Prénom de l'enfant</label>
                        <input type="text" id="prenom" placeholder="Prénom" required>
                    </div>
                    <div>
                        <label>Date de naissance</label>
                        <input type="date" id="date_naiss" required>
                    </div>
                    <div>
                        <label>Niveau de ski actuel</label>
                        <select id="niveau">
                            <option value="Débutant">Débutant (Jamais skié)</option>
                            <option value="Ourson">Ourson</option>
                            <option value="Flocon">Flocon</option>
                            <option value="1ere Etoile">1ère Étoile</option>
                            <option value="2e Etoile">2ème Étoile</option>
                            <option value="3e Etoile">3ème Étoile</option>
                            <option value="Bronze">Bronze</option>
                            <option value="Argent">Argent</option>
                            <option value="Or">Or</option>
                            <option value="Expert">Expert</option>
                        </select>
                    </div>
                    <div>
                        <label>Téléphone d'urgence (1)</label>
                        <input type="tel" id="tel" placeholder="06..." required>
                    </div>
                    <div>
                        <label>Email de contact</label>
                        <input type="email" id="email" placeholder="votre@email.com" required>
                    </div>
                    <div style="grid-column: 1/-1;">
                        <label>Besoin du transport en bus ?</label>
                        <select id="transport">
                            <option value="oui">Oui, je souhaite utiliser le bus du club</option>
                            <option value="non">Non, je l'amène directement en station</option>
                        </select>
                    </div>
                </div>

                <div style="margin-top:20px; background: #fafafa; padding: 15px; border-radius: 10px; border: 1px solid #eee;">
                    <label style="display:flex; gap:10px; cursor:pointer; align-items: flex-start;">
                        <input type="checkbox" required style="width:auto; margin-top:5px;">
                        <span style="font-size: 0.8rem;">Je m'engage à fournir le certificat médical et les autres documents le jour de l'inscription réelle.</span>
                    </label>
                </div>

                <button type="submit" class="btn btn-red" style="margin-top:20px; font-size: 1.1rem;">
                    <i class="fas fa-paper-plane"></i> Envoyer ma Pré-Inscription
                </button>
            </form>
        </div>
    </section>

    <section id="aide" style="background: #f0f0f0;">
        <h2><i class="fas fa-question-circle"></i> Besoin d'aide ?</h2>
        <div class="grid">
            <div class="card">
                <i class="fas fa-envelope" style="font-size: 2rem; color: var(--blue);"></i>
                <h3>Par Email</h3>
                <p>Pour toute question administrative ou technique.</p>
                <a href="mailto:contact@skiclub-stalban.fr" class="btn btn-blue" style="padding: 10px;">contact@skiclub-stalban.fr</a>
            </div>
            <div class="card">
                <i class="fas fa-phone-alt" style="font-size: 2rem; color: var(--red);"></i>
                <h3>Par Téléphone</h3>
                <p>Urgence ou renseignement rapide.</p>
                <a href="tel:0479000000" class="btn btn-red" style="padding: 10px; background: var(--dark);">04 79 00 00 00</a>
            </div>
        </div>
    </section>

    <footer>
        <p><strong>Ski Club Saint-Alban Leysse</strong><br>Maison des Associations, 73230</p>
        <span class="admin-trigger" onclick="login('Admin')">Accès Administration</span>
    </footer>

    <script>
        window.onload = function() {
            const settings = JSON.parse(localStorage.getItem('clubSettings')) || { regOpen: false, bourse: '' };
            
            const alerteContainer = document.getElementById('annuaire-alerte');
            const msgInsc = document.getElementById('msg-inscription');
            const msgBourseBanner = document.getElementById('msg-bourse-banner');
            let hasAlert = false;

            // Inscriptions
            if (settings.regOpen === true || settings.regOpen === "true") {
                msgInsc.style.display = 'block';
                hasAlert = true;
                document.getElementById('lock-msg').style.display = 'none';
            } else {
                document.getElementById('lock-msg').style.display = 'flex';
            }

            // Bourse
            if (settings.bourse && settings.bourse.trim() !== "") {
                document.getElementById('date-bourse-banner-display').innerText = settings.bourse;
                document.getElementById('bourse-date-display').innerText = settings.bourse;
                document.getElementById('bourse-section').style.display = 'block';
                msgBourseBanner.style.display = 'block';
                hasAlert = true;
            }

            if (hasAlert) alerteContainer.style.display = 'block';
        };

        function login(role) {
            const code = prompt("Entrez le code " + role + " :");
            const codeAttendu = (role === 'Admin') ? 'ski73' : 'benevole73';
            if (code === codeAttendu) {
                localStorage.setItem('userRole', role);
                window.location.href = 'admin.html';
            } else if (code !== null) {
                alert("❌ Code incorrect.");
            }
        }

        document.getElementById('saison-form').onsubmit = function(e) {
            e.preventDefault();
            let list = JSON.parse(localStorage.getItem('skiFullList')) || [];
            list.push({
                nom: document.getElementById('nom').value.toUpperCase(),
                prenom: document.getElementById('prenom').value,
                naissance: document.getElementById('date_naiss').value,
                tel: document.getElementById('tel').value,
                email: document.getElementById('email').value,
                niveau: document.getElementById('niveau').value,
                transport: document.getElementById('transport').value,
                date: new Date().toLocaleString('fr-FR')
            });
            localStorage.setItem('skiFullList', JSON.stringify(list));
            alert("✅ Pré-inscription enregistrée !");
            this.reset();
        };
    </script>
</body>
</html>